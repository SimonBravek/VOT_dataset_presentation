import subprocess

def create_video_from_images(image_paths, output_file, framerate=30):
    # Check if ffmpeg is installed
    try:
        subprocess.run(["ffmpeg", "-version"], stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
    except FileNotFoundError:
        raise Exception("ffmpeg is not installed. Please install ffmpeg (https://ffmpeg.org/download.html) and try again.")

    # Create the video from images using ffmpeg
    try:
        subprocess.run(["ffmpeg", "-framerate", str(framerate), "-i", "%d.jpg", "-c:v", "libx264", "-r", str(framerate), output_file], cwd=image_paths[0], check=True)
    except subprocess.CalledProcessError as e:
        print(f"Error creating video: {e}")
    else:
        print(f"Video created successfully: {output_file}")

if __name__ == "__main__":
    # Example usage:
    folder_path = ['C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000001.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000002.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000003.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000004.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000005.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000006.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000007.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000008.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000009.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000010.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000011.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000012.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000013.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000014.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000015.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000016.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000017.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000018.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000019.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000020.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000021.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000022.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000023.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000024.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000025.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000026.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000027.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000028.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000029.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000030.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000031.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000032.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000033.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000034.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000035.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000036.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000037.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000038.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000039.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000040.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000041.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000042.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000043.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000044.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000045.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000046.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000047.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000048.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000049.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000050.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000051.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000052.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000053.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000054.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000055.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000056.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000057.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000058.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000059.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000060.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000061.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000062.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000063.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000064.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000065.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000066.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000067.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000068.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000069.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000070.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000071.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000072.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000073.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000074.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000075.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000076.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000077.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000078.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000079.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000080.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000081.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000082.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000083.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000084.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000085.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000086.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000087.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000088.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000089.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000090.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000091.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000092.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000093.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000094.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000095.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000096.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000097.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000098.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000099.jpg', 'C:/Users/wbras/9 DataSet/vot23-init-dataset-ext/zebrafish1/color/00000100.jpg']
    output_video_file = "C:/Users/wbras/Downloads/fffffmmmpppeeeegggggg.mp4"
    framerate = 30  # Frames per second (adjust as needed)

    create_video_from_images(folder_path, output_video_file, framerate)